var glCards=[],app=angular.module("redLion",["ngRoute"]);app.config(["$routeProvider",function(e){e.when("/grid",{template:"<h1>HELLO ITS WORKING!!!!!</h1>",controller:"GridControler"}).when("/work/:campaignID/:subSection",{templateUrl:"templates/work.html",controller:"WorkCtrl"}).when("/people/:staffID",{templateUrl:"templates/people.html",controller:"PeopleCtrl"}).otherwise({redirectTo:"/grid"})}]),app.controller("CardTestController",function(e,t,r){e.cards=t.get(),init3D()}),app.controller("GridControler",function(e){console.log("grid connection")}),app.controller("WorkCtrl",["$scope","$routeParams",function(e,t){e.campaignID=t.campaignID,e.startSection=t.subSection,console.log("Campaign ID = "+e.campaignID),console.log("subSection = "+e.startSection)}]),app.controller("PeopleCtrl",["$scope","$routeParams","People","Person","$filter",function(e,t,r,n,o){e.people=r.get(),e.selperson=n.get(t.staffID),console.log("Person Slug = "+t.staffID)}]),app.directive("peopleImage",function(){return function(e,t,r){var n="img/staff/"+r.peopleImage+"-"+r.type+".jpg";t.attr("src",n)}}),app.filter("getPersonBySlug",function(){return function(e,t){for(var r=0;r<e.length;r++)if(console.log(e[r]),e[r].slug==t)return e[r];return"oops"}}),app.factory("Person",function(e){var t=null;return{get:function(r){return null===t&&e.get("http://redlioncanada.com/api/content/slug/"+r).success(function(e){t=e[0]}).error(function(e){alert("ERROR: "+e)}),t}}}),app.factory("People",function(e){var t=[];return{get:function(){return 0===t.length&&e.get("http://redlioncanada.com/api/content/type/people").success(function(e){for(var r=0;r<e.length;r++)t.push(e[r])}).error(function(e){alert("ERROR: "+e)}),t}}}),app.factory("Cards",function(e){var t=[];return{get:function(){return 0===t.length&&e.get("http://redlioncanada.com/api/content/").success(function(e){for(var r=0,n=e.length;n>r;r++)t.push(e[r])}).error(function(e){alert("ERROR: "+e)}),glCards=t,t}}});var countObj=function(e){var t=0,r;for(r in e)e.hasOwnProperty(r)&&t++;return t};